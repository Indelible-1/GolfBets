(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,41160,e=>{"use strict";e.i(51718);var i=e.i(18357),r=e.i(59141);async function t(e){try{await (0,i.sendSignInLinkToEmail)(r.auth,e,{url:"http://localhost:3000/auth/callback",handleCodeInApp:!0}),localStorage.setItem("emailForSignIn",e)}catch(e){throw console.error("Error sending magic link:",e),e}}async function n(){if(!(0,i.isSignInWithEmailLink)(r.auth,window.location.href))return null;let e=localStorage.getItem("emailForSignIn");if(!e)throw Error("No email found for magic link sign-in");try{let t=await (0,i.signInWithEmailLink)(r.auth,e,window.location.href);return localStorage.removeItem("emailForSignIn"),t}catch(e){throw console.error("Error completing magic link sign-in:",e),e}}async function a(){try{await (0,i.signOut)(r.auth)}catch(e){throw console.error("Error signing out:",e),e}}e.s(["completeMagicLink",()=>n,"sendMagicLink",()=>t,"signOutUser",()=>a])},10829,e=>{"use strict";var i=e.i(43476),r=e.i(71645),t=e.i(18566),n=e.i(41160);e.i(84004);var a=e.i(66085);e.i(16787);var s=e.i(39964);function l(){let e=(0,t.useRouter)(),[l,c]=(0,r.useState)(null),[o,d]=(0,r.useState)(!0);return((0,r.useEffect)(()=>{(async()=>{try{if(!await (0,n.completeMagicLink)())throw Error("Invalid magic link or link already used");setTimeout(()=>{e.push("/")},500)}catch(e){c(e instanceof Error?e.message:"Failed to sign in"),d(!1)}})()},[e]),o)?(0,i.jsx)(a.Screen,{className:"flex items-center justify-center",children:(0,i.jsxs)("div",{className:"text-center space-y-4",children:[(0,i.jsx)("div",{className:"animate-spin text-4xl",children:"⛳"}),(0,i.jsx)("p",{className:"text-gray-600 font-medium",children:"Signing you in..."}),(0,i.jsx)("p",{className:"text-sm text-gray-500",children:"Please wait while we verify your email"})]})}):l?(0,i.jsx)(a.Screen,{children:(0,i.jsx)("div",{className:"p-4 max-w-md mx-auto pt-12",children:(0,i.jsx)(s.Card,{variant:"elevated",className:"bg-red-50 border border-red-200",children:(0,i.jsxs)("div",{className:"text-center space-y-4",children:[(0,i.jsx)("div",{className:"text-4xl",children:"❌"}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h2",{className:"text-lg font-semibold text-red-900 mb-2",children:"Sign In Failed"}),(0,i.jsx)("p",{className:"text-sm text-red-700 mb-4",children:l})]}),(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsx)("p",{className:"text-sm text-gray-600",children:"The link may have expired or been used already."}),(0,i.jsx)("a",{href:"/login",className:"inline-block px-6 py-3 bg-red-600 text-white rounded-lg font-semibold hover:bg-red-700 transition-colors min-h-[48px] min-w-[48px] flex items-center justify-center",children:"Try Again"})]})]})})})}):null}e.s(["default",()=>l])}]);