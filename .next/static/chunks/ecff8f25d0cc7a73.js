(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,41160,e=>{"use strict";e.i(51718);var t=e.i(18357),i=e.i(59141);async function a(e){try{await (0,t.sendSignInLinkToEmail)(i.auth,e,{url:"http://localhost:3000/auth/callback",handleCodeInApp:!0}),localStorage.setItem("emailForSignIn",e)}catch(e){throw console.error("Error sending magic link:",e),e}}async function r(){if(!(0,t.isSignInWithEmailLink)(i.auth,window.location.href))return null;let e=localStorage.getItem("emailForSignIn");if(!e)throw Error("No email found for magic link sign-in");try{let a=await (0,t.signInWithEmailLink)(i.auth,e,window.location.href);return localStorage.removeItem("emailForSignIn"),a}catch(e){throw console.error("Error completing magic link sign-in:",e),e}}async function s(){try{await (0,t.signOut)(i.auth)}catch(e){throw console.error("Error signing out:",e),e}}e.s(["completeMagicLink",()=>r,"sendMagicLink",()=>a,"signOutUser",()=>s])},388,e=>{"use strict";var t=e.i(43476),i=e.i(71645),a=e.i(18566),r=e.i(41160);e.i(84004);var s=e.i(66085),n=e.i(3374);e.i(16787);var l=e.i(3812),c=e.i(59544),o=e.i(39964);function d(){let e=(0,a.useRouter)(),[d,m]=(0,i.useState)(""),[h,g]=(0,i.useState)(!1),[u,x]=(0,i.useState)(null),[p,j]=(0,i.useState)(!1),f=async t=>{t.preventDefault(),x(null),g(!0);try{if(!d.trim())throw Error("Please enter an email address");if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(d))throw Error("Please enter a valid email address");await (0,r.sendMagicLink)(d),j(!0),m(""),setTimeout(()=>{e.push("/auth/callback")},3e3)}catch(e){x(e instanceof Error?e.message:"Failed to send magic link")}finally{g(!1)}};return p?(0,t.jsxs)(s.Screen,{children:[(0,t.jsx)(n.Header,{title:"Check your email"}),(0,t.jsx)("div",{className:"p-4 space-y-4",children:(0,t.jsx)(o.Card,{variant:"elevated",className:"bg-green-50 border border-green-200",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-4xl mb-3",children:"✅"}),(0,t.jsx)("h2",{className:"text-lg font-semibold text-green-900 mb-2",children:"Magic link sent!"}),(0,t.jsx)("p",{className:"text-green-700 mb-4",children:"Check your email and click the link to sign in."}),(0,t.jsx)("p",{className:"text-sm text-green-600",children:"Redirecting to sign in page..."})]})})})]}):(0,t.jsxs)(s.Screen,{children:[(0,t.jsx)(n.Header,{title:"Sign In"}),(0,t.jsx)("div",{className:"p-4 max-w-md mx-auto pt-6",children:(0,t.jsxs)(o.Card,{variant:"elevated",className:"space-y-6",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-4xl mb-3",children:"⛳"}),(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"GolfSettled"}),(0,t.jsx)("p",{className:"text-gray-500 mt-1",children:"Track golf bets with friends"})]}),(0,t.jsxs)("form",{onSubmit:f,className:"space-y-4",children:[u&&(0,t.jsx)("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:(0,t.jsx)("p",{className:"text-sm text-red-700",children:u})}),(0,t.jsxs)("div",{children:[(0,t.jsx)(l.Input,{type:"email",label:"Email Address",placeholder:"you@example.com",value:d,onChange:e=>m(e.target.value),disabled:h,autoFocus:!0,required:!0}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"We'll send you a magic link to sign in. No password needed."})]}),(0,t.jsx)(c.Button,{type:"submit",fullWidth:!0,loading:h,size:"md",children:"Send Magic Link"})]}),(0,t.jsx)("div",{className:"text-center text-xs text-gray-500",children:(0,t.jsx)("p",{children:"No account? Sign in to create one."})})]})})]})}e.s(["default",()=>d])}]);