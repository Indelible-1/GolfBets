module.exports=[11071,35928,37773,a=>{"use strict";var b=a.i(87924),c=a.i(38246);a.i(11909);var d=a.i(62067),e=a.i(55486),f=a.i(79530);function g({match:a,className:g}){var h;let i;return(0,b.jsx)(c.default,{href:`/match/${a.id}`,children:(0,b.jsxs)(d.Card,{variant:"outlined",className:(0,f.cn)("hover:border-fairway-300 transition-colors cursor-pointer",g),children:[(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("h3",{className:"font-semibold text-gray-900 truncate",children:a.courseName}),(0,b.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:(i=(h=a.teeTime)instanceof Date?h:"object"==typeof h&&null!==h&&"toDate"in h?h.toDate():new Date(String(h)),new Intl.DateTimeFormat("en-US",{weekday:"short",month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}).format(i))}),(0,b.jsxs)("p",{className:"text-sm text-gray-500",children:[a.holes," holes • ",a.participantIds.length," players"]})]}),(0,b.jsx)(e.Badge,{variant:{pending:"warning",active:"success",completed:"default",cancelled:"error"}[a.status],children:a.status})]}),"active"===a.status&&a.currentHole&&(0,b.jsx)("div",{className:"mt-3 pt-3 border-t border-gray-100",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-sm text-gray-500",children:"Current hole"}),(0,b.jsx)("span",{className:"text-lg font-bold text-fairway-600",children:a.currentHole})]})})]})})}a.s(["MatchCard",()=>g],35928);var h=a.i(72131),i=a.i(94988);function j({value:a,onChange:c,className:e}){let[g,j]=(0,h.useState)(a);return(0,b.jsxs)("div",{className:(0,f.cn)("space-y-6",e),children:[(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("h3",{className:"font-semibold text-gray-900",children:"Bet Type"}),(0,b.jsx)("div",{className:"grid grid-cols-2 gap-3",children:[{id:"none",label:"No Bets",description:"Just track scores"},{id:"nassau",label:"Nassau",description:"Front 9, Back 9, Total"},{id:"skins",label:"Skins",description:"Win each hole"},{id:"both",label:"Nassau & Skins",description:"Both bets"}].map(a=>(0,b.jsxs)("button",{onClick:()=>{var b;let d;return d={type:b=a.id},void(("nassau"===b||"both"===b)&&(d.nassauAmount=g.nassauAmount||1,d.nassauAutoPress=g.nassauAutoPress??!0),("skins"===b||"both"===b)&&(d.skinsAmount=g.skinsAmount||1,d.skinsCarryover=g.skinsCarryover??!0),j(d),c(d))},className:(0,f.cn)("p-3 rounded-lg border-2 transition-all","text-left text-sm font-medium","tap-target",g.type===a.id?"border-fairway-600 bg-fairway-50 text-fairway-900":"border-gray-200 bg-white text-gray-900 hover:border-gray-300"),children:[(0,b.jsx)("div",{className:"font-semibold",children:a.label}),(0,b.jsx)("div",{className:"text-xs text-gray-600",children:a.description})]},a.id))})]}),("nassau"===g.type||"both"===g.type)&&(0,b.jsxs)(d.Card,{variant:"outlined",className:"p-4 space-y-4",children:[(0,b.jsx)("h4",{className:"font-semibold text-gray-900",children:"Nassau Settings"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bet Amount per 9"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"text-lg text-fairway-600",children:"$"}),(0,b.jsx)(i.Input,{type:"number",step:.5,min:.5,value:g.nassauAmount?.toString()||"1",onChange:a=>{var b;let d;return b=parseFloat(a.target.value)||1,void(j(d={...g,nassauAmount:Math.max(.5,b)}),c(d))},placeholder:"1.00"})]})]}),(0,b.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer tap-target p-2 rounded-lg hover:bg-gray-50",children:[(0,b.jsx)("input",{type:"checkbox",checked:g.nassauAutoPress??!0,onChange:()=>{let a={...g,nassauAutoPress:!g.nassauAutoPress};j(a),c(a)},className:"w-6 h-6 rounded cursor-pointer"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-medium text-gray-900",children:"Auto-press"}),(0,b.jsx)("div",{className:"text-xs text-gray-600",children:"Automatically start a new bet if winner"})]})]})]}),("skins"===g.type||"both"===g.type)&&(0,b.jsxs)(d.Card,{variant:"outlined",className:"p-4 space-y-4",children:[(0,b.jsx)("h4",{className:"font-semibold text-gray-900",children:"Skins Settings"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bet Amount per Skin"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"text-lg text-fairway-600",children:"$"}),(0,b.jsx)(i.Input,{type:"number",step:.5,min:.5,value:g.skinsAmount?.toString()||"1",onChange:a=>{var b;let d;return b=parseFloat(a.target.value)||1,void(j(d={...g,skinsAmount:Math.max(.5,b)}),c(d))},placeholder:"1.00"})]})]}),(0,b.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer tap-target p-2 rounded-lg hover:bg-gray-50",children:[(0,b.jsx)("input",{type:"checkbox",checked:g.skinsCarryover??!0,onChange:()=>{let a={...g,skinsCarryover:!g.skinsCarryover};j(a),c(a)},className:"w-6 h-6 rounded cursor-pointer"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-medium text-gray-900",children:"Carryover"}),(0,b.jsx)("div",{className:"text-xs text-gray-600",children:"Unclaimed skins carry over to next hole"})]})]})]}),"none"!==g.type&&(0,b.jsx)(d.Card,{variant:"elevated",className:"p-4 bg-fairway-50",children:(0,b.jsxs)("div",{className:"text-sm text-fairway-900",children:["nassau"===g.type&&(0,b.jsxs)("div",{children:["Nassau: $",g.nassauAmount,"/9 holes",g.nassauAutoPress&&" • Auto-press enabled"]}),"skins"===g.type&&(0,b.jsxs)("div",{children:["Skins: $",g.skinsAmount,"/hole",g.skinsCarryover&&" • Carryover enabled"]}),"both"===g.type&&(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsxs)("div",{children:["Nassau: $",g.nassauAmount,"/9",g.nassauAutoPress&&" (auto-press)"]}),(0,b.jsxs)("div",{children:["Skins: $",g.skinsAmount,"/hole",g.skinsCarryover&&" (carryover)"]})]})]})})]})}var k=a.i(50944),l=a.i(96438),m=a.i(32636),n=a.i(15706);a.i(69387);var o=a.i(60574),p=a.i(78367);async function q(a,b,c){let d=new Date,e=`bet_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,f={id:e,type:c.type,unitValue:c.unitValue,scoringMode:c.scoringMode,nassauConfig:c.nassauConfig??null,skinsConfig:c.skinsConfig??null,createdAt:d,createdBy:b};try{return await (0,o.setDoc)((0,p.betDoc)(a,e),f),f}catch(a){throw console.error("Error creating bet:",a),a}}function r(){let a=(0,k.useRouter)(),{user:c}=(0,m.useAuth)(),[e,g]=(0,h.useState)("course"),[o,p]=(0,h.useState)(!1),[r,s]=(0,h.useState)(null),[t,u]=(0,h.useState)({courseName:"",teeTime:new Date().toISOString().slice(0,16),holes:18,betConfig:{type:"nassau",nassauAmount:1,nassauAutoPress:!0}}),v=["course","datetime","bets","confirm"],w=v.indexOf(e),x=w===v.length-1,y=async()=>{if(c){p(!0),s(null);try{let b={courseName:t.courseName,teeTime:new Date(t.teeTime),holes:t.holes},d=(await (0,n.createMatch)(c.id,b)).id;("nassau"===t.betConfig.type||"both"===t.betConfig.type)&&await q(d,c.id,{type:"nassau",unitValue:t.betConfig.nassauAmount||1,scoringMode:"gross",nassauConfig:{frontAmount:t.betConfig.nassauAmount||1,backAmount:t.betConfig.nassauAmount||1,overallAmount:t.betConfig.nassauAmount||1,autoPress:t.betConfig.nassauAutoPress??!0,pressTrigger:1,maxPresses:3}}),("skins"===t.betConfig.type||"both"===t.betConfig.type)&&await q(d,c.id,{type:"skins",unitValue:t.betConfig.skinsAmount||1,scoringMode:"gross",skinsConfig:{skinValue:t.betConfig.skinsAmount||1,carryover:t.betConfig.skinsCarryover??!0,validation:!0}}),a.push(`/match/${d}`)}catch(a){console.error("Failed to create match:",a),s(a instanceof Error?a.message:"Failed to create match")}finally{p(!1)}}};return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("div",{className:"flex justify-between items-center gap-1",children:v.map((a,c)=>(0,b.jsx)("div",{className:(0,f.cn)("flex-1 h-2 rounded-full transition-colors",c<=w?"bg-fairway-600":"bg-gray-200")},a))}),(0,b.jsxs)("div",{className:"text-sm text-gray-600",children:["Step ",w+1," of ",v.length,": ",{course:"Course",datetime:"When & How Many",bets:"Bets",confirm:"Review"}[e]]})]}),r&&(0,b.jsx)(d.Card,{variant:"outlined",className:"bg-red-50 border-red-200 p-4",children:(0,b.jsx)("p",{className:"text-red-700 text-sm",children:r})}),(0,b.jsxs)("div",{className:"space-y-4",children:["course"===e&&(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-900",children:"Course Name"}),(0,b.jsx)(i.Input,{type:"text",placeholder:"e.g., Pebble Beach, Local GC",value:t.courseName,onChange:a=>u({...t,courseName:a.target.value}),autoFocus:!0}),(0,b.jsx)("p",{className:"text-xs text-gray-500",children:"Where are you playing today?"})]}),"datetime"===e&&(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-900",children:"Tee Time"}),(0,b.jsx)(i.Input,{type:"datetime-local",value:t.teeTime,onChange:a=>u({...t,teeTime:a.target.value})})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-900",children:"Holes"}),(0,b.jsx)("div",{className:"grid grid-cols-2 gap-3",children:[9,18].map(a=>(0,b.jsxs)("button",{onClick:()=>u({...t,holes:a}),className:(0,f.cn)("p-3 rounded-lg border-2 font-semibold transition-all","tap-target",t.holes===a?"border-fairway-600 bg-fairway-50 text-fairway-900":"border-gray-200 bg-white text-gray-900 hover:border-gray-300"),children:[a," Holes"]},a))})]})]}),"bets"===e&&(0,b.jsx)(j,{value:t.betConfig,onChange:a=>u({...t,betConfig:a})}),"confirm"===e&&(0,b.jsxs)(d.Card,{variant:"elevated",className:"p-6 space-y-4",children:[(0,b.jsx)("h3",{className:"font-semibold text-lg text-gray-900",children:"Match Summary"}),(0,b.jsxs)("div",{className:"space-y-3 bg-gray-50 p-4 rounded-lg",children:[(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-600",children:"Course"}),(0,b.jsx)("span",{className:"font-semibold text-gray-900",children:t.courseName})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-600",children:"Tee Time"}),(0,b.jsx)("span",{className:"font-semibold text-gray-900",children:new Date(t.teeTime).toLocaleString("en-US",{weekday:"short",month:"short",day:"numeric",hour:"numeric",minute:"2-digit"})})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-600",children:"Format"}),(0,b.jsxs)("span",{className:"font-semibold text-gray-900",children:[t.holes," Holes"]})]}),(0,b.jsxs)("div",{className:"border-t border-gray-200 pt-3 flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-600",children:"Bet Type"}),(0,b.jsx)("span",{className:"font-semibold text-fairway-600",children:"none"===t.betConfig.type?"No Bets":"nassau"===t.betConfig.type?"Nassau":"skins"===t.betConfig.type?"Skins":"Nassau & Skins"})]})]}),(0,b.jsx)("p",{className:"text-xs text-gray-500",children:"You can invite other players after creating the match."})]})]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)(l.Button,{variant:"secondary",onClick:()=>{w>0&&(g(v[w-1]),s(null))},disabled:0===w||o,fullWidth:!0,children:"Back"}),x?(0,b.jsx)(l.Button,{onClick:y,loading:o,disabled:o,fullWidth:!0,children:"Create Match"}):(0,b.jsx)(l.Button,{onClick:()=>{w<v.length-1&&(g(v[w+1]),s(null))},disabled:!(()=>{switch(e){case"course":return t.courseName.trim().length>0;case"datetime":return t.teeTime.length>0;case"bets":case"confirm":return!0;default:return!1}})()||o,fullWidth:!0,children:"Next"})]})]})}a.s(["CreateMatchWizard",()=>r],37773),a.s([],11071)}];

//# sourceMappingURL=src_components_match_index_ts_88348ad6._.js.map