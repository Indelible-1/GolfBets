{"version":3,"sources":["../../../../src/hooks/useAuth.ts","../../../../src/lib/firestore/users.ts","../../../../src/lib/firestore/converters.ts","../../../../src/lib/firestore/collections.ts","../../../../src/components/auth/ProtectedRoute.tsx","../../../../src/lib/auth/config.ts","../../../../src/app/settings/page.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect, useState } from 'react'\nimport { onAuthStateChanged, User as FirebaseUser } from 'firebase/auth'\nimport { auth } from '@/lib/firebase'\nimport { User } from '@/types'\nimport { getUser, createUser, updateUserActivity } from '@/lib/firestore/users'\n\ninterface UseAuthReturn {\n  firebaseUser: FirebaseUser | null\n  user: User | null\n  loading: boolean\n  error: Error | null\n}\n\n/**\n * Hook to manage authentication state and Firestore user document\n * Automatically syncs Firebase Auth with Firestore user profile\n */\nexport function useAuth(): UseAuthReturn {\n  const [firebaseUser, setFirebaseUser] = useState<FirebaseUser | null>(null)\n  const [user, setUser] = useState<User | null>(null)\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState<Error | null>(null)\n\n  useEffect(() => {\n    const unsubscribe = onAuthStateChanged(auth, async (firebaseUserData) => {\n      try {\n        setFirebaseUser(firebaseUserData)\n\n        if (firebaseUserData) {\n          // User signed in\n          let userData = await getUser(firebaseUserData.uid)\n\n          if (!userData) {\n            // First sign-in: create user document\n            const displayName = firebaseUserData.displayName || firebaseUserData.email || 'User'\n            const email = firebaseUserData.email || ''\n\n            userData = await createUser(firebaseUserData.uid, {\n              displayName,\n              email,\n            })\n          } else {\n            // Update last active timestamp\n            await updateUserActivity(firebaseUserData.uid)\n          }\n\n          setUser(userData)\n          setError(null)\n        } else {\n          // User signed out\n          setUser(null)\n          setError(null)\n        }\n\n        setLoading(false)\n      } catch (err) {\n        const error = err instanceof Error ? err : new Error('Unknown auth error')\n        setError(error)\n        setLoading(false)\n      }\n    })\n\n    return () => unsubscribe()\n  }, [])\n\n  return {\n    firebaseUser,\n    user,\n    loading,\n    error,\n  }\n}\n","import { getDoc, setDoc, updateDoc } from 'firebase/firestore'\nimport { User, TeeBox } from '@/types'\nimport { userDoc } from './collections'\n\n// ============ READ ============\n\n/**\n * Fetch user document by ID\n */\nexport async function getUser(userId: string): Promise<User | null> {\n  try {\n    const snapshot = await getDoc(userDoc(userId))\n    return snapshot.exists() ? snapshot.data() : null\n  } catch (error) {\n    console.error('Error fetching user:', error)\n    throw error\n  }\n}\n\n// ============ CREATE ============\n\n/**\n * Create new user document (called after first sign-in)\n */\nexport async function createUser(\n  userId: string,\n  data: {\n    displayName: string\n    email: string\n  },\n): Promise<User> {\n  const now = new Date()\n  const user: User = {\n    id: userId,\n    displayName: data.displayName,\n    email: data.email,\n    avatarUrl: null,\n\n    // Golf profile defaults\n    handicapIndex: null,\n    homeClub: null,\n    defaultTeeBox: 'blue' as TeeBox,\n\n    // Preferences defaults\n    notificationsEnabled: true,\n\n    // Metadata\n    createdAt: now,\n    updatedAt: now,\n    lastActiveAt: now,\n  }\n\n  try {\n    await setDoc(userDoc(userId), user)\n    return user\n  } catch (error) {\n    console.error('Error creating user:', error)\n    throw error\n  }\n}\n\n// ============ UPDATE ============\n\n/**\n * Update user profile fields (displayName, handicap, etc.)\n */\nexport async function updateUser(\n  userId: string,\n  updates: Partial<Omit<User, 'id' | 'email' | 'createdAt'>>,\n): Promise<void> {\n  try {\n    await updateDoc(userDoc(userId), {\n      ...updates,\n      updatedAt: new Date(),\n    })\n  } catch (error) {\n    console.error('Error updating user:', error)\n    throw error\n  }\n}\n\n/**\n * Update user's last active timestamp (for stale user cleanup)\n */\nexport async function updateUserActivity(userId: string): Promise<void> {\n  try {\n    await updateDoc(userDoc(userId), {\n      lastActiveAt: new Date(),\n    })\n  } catch (error) {\n    console.error('Error updating user activity:', error)\n    throw error\n  }\n}\n\n/**\n * Update user's golf preferences\n */\nexport async function updateUserGolfProfile(\n  userId: string,\n  profile: {\n    handicapIndex?: number | null\n    homeClub?: string | null\n    defaultTeeBox?: TeeBox\n  },\n): Promise<void> {\n  try {\n    await updateDoc(userDoc(userId), {\n      ...profile,\n      updatedAt: new Date(),\n    })\n  } catch (error) {\n    console.error('Error updating golf profile:', error)\n    throw error\n  }\n}\n\n/**\n * Update user notification preferences\n */\nexport async function updateNotificationPreferences(\n  userId: string,\n  notificationsEnabled: boolean,\n): Promise<void> {\n  try {\n    await updateDoc(userDoc(userId), {\n      notificationsEnabled,\n      updatedAt: new Date(),\n    })\n  } catch (error) {\n    console.error('Error updating notification preferences:', error)\n    throw error\n  }\n}\n","import {\n  Timestamp,\n  FirestoreDataConverter,\n  QueryDocumentSnapshot,\n} from 'firebase/firestore'\nimport {\n  User,\n  FirestoreUser,\n  Match,\n  FirestoreMatch,\n  Participant,\n  FirestoreParticipant,\n  Score,\n  FirestoreScore,\n  Bet,\n  FirestoreBet,\n  LedgerEntry,\n  FirestoreLedgerEntry,\n  AuditEntry,\n  FirestoreAuditEntry,\n  Invite,\n  FirestoreInvite,\n} from '@/types'\n\n// ============ TIMESTAMP HELPERS ============\n\nexport const toDate = (timestamp: Timestamp | null | undefined): Date | null => {\n  return timestamp ? timestamp.toDate() : null\n}\n\nexport const fromDate = (date: Date | null | undefined): Timestamp | null => {\n  return date ? Timestamp.fromDate(date) : null\n}\n\n// ============ USER CONVERTER ============\n\nexport const userConverter: FirestoreDataConverter<User> = {\n  toFirestore: (user: User): FirestoreUser => ({\n    ...user,\n    createdAt: Timestamp.fromDate(user.createdAt),\n    updatedAt: Timestamp.fromDate(user.updatedAt),\n    lastActiveAt: Timestamp.fromDate(user.lastActiveAt),\n  }),\n  fromFirestore: (snapshot: QueryDocumentSnapshot<FirestoreUser>): User => {\n    const data = snapshot.data()\n    return {\n      ...data,\n      id: snapshot.id,\n      createdAt: data.createdAt.toDate(),\n      updatedAt: data.updatedAt.toDate(),\n      lastActiveAt: data.lastActiveAt.toDate(),\n    }\n  },\n}\n\n// ============ MATCH CONVERTER ============\n\nexport const matchConverter: FirestoreDataConverter<Match> = {\n  toFirestore: (match: Match): FirestoreMatch => ({\n    ...match,\n    createdAt: Timestamp.fromDate(match.createdAt),\n    updatedAt: Timestamp.fromDate(match.updatedAt),\n    startedAt: match.startedAt ? Timestamp.fromDate(match.startedAt) : null,\n    completedAt: match.completedAt ? Timestamp.fromDate(match.completedAt) : null,\n    teeTime: Timestamp.fromDate(match.teeTime),\n  }),\n  fromFirestore: (snapshot: QueryDocumentSnapshot<FirestoreMatch>): Match => {\n    const data = snapshot.data()\n    return {\n      ...data,\n      id: snapshot.id,\n      createdAt: data.createdAt.toDate(),\n      updatedAt: data.updatedAt.toDate(),\n      startedAt: data.startedAt?.toDate() ?? null,\n      completedAt: data.completedAt?.toDate() ?? null,\n      teeTime: data.teeTime.toDate(),\n    }\n  },\n}\n\n// ============ PARTICIPANT CONVERTER ============\n\nexport const participantConverter: FirestoreDataConverter<Participant> = {\n  toFirestore: (participant: Participant): FirestoreParticipant => ({\n    ...participant,\n    invitedAt: Timestamp.fromDate(participant.invitedAt),\n    confirmedAt: participant.confirmedAt ? Timestamp.fromDate(participant.confirmedAt) : null,\n  }),\n  fromFirestore: (snapshot: QueryDocumentSnapshot<FirestoreParticipant>): Participant => {\n    const data = snapshot.data()\n    return {\n      ...data,\n      id: snapshot.id,\n      invitedAt: data.invitedAt.toDate(),\n      confirmedAt: data.confirmedAt?.toDate() ?? null,\n    }\n  },\n}\n\n// ============ SCORE CONVERTER ============\n\nexport const scoreConverter: FirestoreDataConverter<Score> = {\n  toFirestore: (score: Score): FirestoreScore => ({\n    ...score,\n    createdAt: Timestamp.fromDate(score.createdAt),\n    updatedAt: Timestamp.fromDate(score.updatedAt),\n    syncedAt: score.syncedAt ? Timestamp.fromDate(score.syncedAt) : null,\n  }),\n  fromFirestore: (snapshot: QueryDocumentSnapshot<FirestoreScore>): Score => {\n    const data = snapshot.data()\n    return {\n      ...data,\n      id: snapshot.id,\n      createdAt: data.createdAt.toDate(),\n      updatedAt: data.updatedAt.toDate(),\n      syncedAt: data.syncedAt?.toDate() ?? null,\n    }\n  },\n}\n\n// ============ BET CONVERTER ============\n\nexport const betConverter: FirestoreDataConverter<Bet> = {\n  toFirestore: (bet: Bet): FirestoreBet => ({\n    ...bet,\n    createdAt: Timestamp.fromDate(bet.createdAt),\n  }),\n  fromFirestore: (snapshot: QueryDocumentSnapshot<FirestoreBet>): Bet => {\n    const data = snapshot.data()\n    return {\n      ...data,\n      id: snapshot.id,\n      createdAt: data.createdAt.toDate(),\n    }\n  },\n}\n\n// ============ LEDGER CONVERTER ============\n\nexport const ledgerConverter: FirestoreDataConverter<LedgerEntry> = {\n  toFirestore: (entry: LedgerEntry): FirestoreLedgerEntry => ({\n    ...entry,\n    createdAt: Timestamp.fromDate(entry.createdAt),\n    settledAt: entry.settledAt ? Timestamp.fromDate(entry.settledAt) : null,\n  }),\n  fromFirestore: (snapshot: QueryDocumentSnapshot<FirestoreLedgerEntry>): LedgerEntry => {\n    const data = snapshot.data()\n    return {\n      ...data,\n      id: snapshot.id,\n      createdAt: data.createdAt.toDate(),\n      settledAt: data.settledAt?.toDate() ?? null,\n    }\n  },\n}\n\n// ============ AUDIT CONVERTER ============\n\nexport const auditConverter: FirestoreDataConverter<AuditEntry> = {\n  toFirestore: (entry: AuditEntry): FirestoreAuditEntry => ({\n    ...entry,\n    changedAt: Timestamp.fromDate(entry.changedAt),\n  }),\n  fromFirestore: (snapshot: QueryDocumentSnapshot<FirestoreAuditEntry>): AuditEntry => {\n    const data = snapshot.data()\n    return {\n      ...data,\n      id: snapshot.id,\n      changedAt: data.changedAt.toDate(),\n    }\n  },\n}\n\n// ============ INVITE CONVERTER ============\n\nexport const inviteConverter: FirestoreDataConverter<Invite> = {\n  toFirestore: (invite: Invite): FirestoreInvite => ({\n    ...invite,\n    createdAt: Timestamp.fromDate(invite.createdAt),\n    expiresAt: Timestamp.fromDate(invite.expiresAt),\n  }),\n  fromFirestore: (snapshot: QueryDocumentSnapshot<FirestoreInvite>): Invite => {\n    const data = snapshot.data()\n    return {\n      ...data,\n      id: snapshot.id,\n      createdAt: data.createdAt.toDate(),\n      expiresAt: data.expiresAt.toDate(),\n    }\n  },\n}\n","import {\n  collection,\n  CollectionReference,\n  DocumentReference,\n  doc,\n  getFirestore,\n  Firestore,\n} from 'firebase/firestore'\nimport {\n  User,\n  Match,\n  Participant,\n  Score,\n  Bet,\n  LedgerEntry,\n  AuditEntry,\n  Invite,\n} from '@/types'\nimport {\n  userConverter,\n  matchConverter,\n  participantConverter,\n  scoreConverter,\n  betConverter,\n  ledgerConverter,\n  auditConverter,\n  inviteConverter,\n} from './converters'\n\nlet db: Firestore | undefined\n\nfunction getDb(): Firestore {\n  if (!db) {\n    db = getFirestore()\n  }\n  return db\n}\n\n// ============ ROOT COLLECTIONS ============\n\nexport const usersCollection = (): CollectionReference<User> =>\n  collection(getDb(), 'users').withConverter(userConverter)\n\nexport const matchesCollection = (): CollectionReference<Match> =>\n  collection(getDb(), 'matches').withConverter(matchConverter)\n\nexport const invitesCollection = (): CollectionReference<Invite> =>\n  collection(getDb(), 'invites').withConverter(inviteConverter)\n\n// ============ SUBCOLLECTIONS ============\n\nexport const betsCollection = (matchId: string): CollectionReference<Bet> =>\n  collection(getDb(), `matches/${matchId}/bets`).withConverter(betConverter)\n\nexport const participantsCollection = (matchId: string): CollectionReference<Participant> =>\n  collection(getDb(), `matches/${matchId}/participants`).withConverter(participantConverter)\n\nexport const scoresCollection = (matchId: string): CollectionReference<Score> =>\n  collection(getDb(), `matches/${matchId}/scores`).withConverter(scoreConverter)\n\nexport const ledgerCollection = (matchId: string): CollectionReference<LedgerEntry> =>\n  collection(getDb(), `matches/${matchId}/ledger`).withConverter(ledgerConverter)\n\nexport const auditCollection = (matchId: string): CollectionReference<AuditEntry> =>\n  collection(getDb(), `matches/${matchId}/audit`).withConverter(auditConverter)\n\n// ============ DOCUMENT REFERENCES ============\n\nexport const userDoc = (userId: string): DocumentReference<User> =>\n  doc(collection(getDb(), 'users'), userId).withConverter(userConverter) as DocumentReference<User>\n\nexport const matchDoc = (matchId: string): DocumentReference<Match> =>\n  doc(collection(getDb(), 'matches'), matchId).withConverter(matchConverter) as DocumentReference<Match>\n\nexport const betDoc = (matchId: string, betId: string): DocumentReference<Bet> =>\n  doc(collection(getDb(), `matches/${matchId}/bets`), betId).withConverter(betConverter) as DocumentReference<Bet>\n\nexport const participantDoc = (\n  matchId: string,\n  participantId: string,\n): DocumentReference<Participant> =>\n  doc(\n    collection(getDb(), `matches/${matchId}/participants`),\n    participantId,\n  ).withConverter(participantConverter) as DocumentReference<Participant>\n\nexport const scoreDoc = (matchId: string, scoreId: string): DocumentReference<Score> =>\n  doc(collection(getDb(), `matches/${matchId}/scores`), scoreId).withConverter(\n    scoreConverter,\n  ) as DocumentReference<Score>\n\nexport const ledgerEntryDoc = (\n  matchId: string,\n  entryId: string,\n): DocumentReference<LedgerEntry> =>\n  doc(collection(getDb(), `matches/${matchId}/ledger`), entryId).withConverter(\n    ledgerConverter,\n  ) as DocumentReference<LedgerEntry>\n\nexport const auditEntryDoc = (\n  matchId: string,\n  auditId: string,\n): DocumentReference<AuditEntry> =>\n  doc(collection(getDb(), `matches/${matchId}/audit`), auditId).withConverter(\n    auditConverter,\n  ) as DocumentReference<AuditEntry>\n\nexport const inviteDoc = (inviteId: string): DocumentReference<Invite> =>\n  doc(collection(getDb(), 'invites'), inviteId).withConverter(\n    inviteConverter,\n  ) as DocumentReference<Invite>\n","'use client'\n\nimport { useEffect } from 'react'\nimport { useRouter } from 'next/navigation'\nimport { useAuth } from '@/hooks/useAuth'\nimport { Screen } from '@/components/layout'\n\ninterface ProtectedRouteProps {\n  children: React.ReactNode\n}\n\nexport function ProtectedRoute({ children }: ProtectedRouteProps) {\n  const { user, loading } = useAuth()\n  const router = useRouter()\n\n  useEffect(() => {\n    if (!loading && !user) {\n      router.push('/login')\n    }\n  }, [user, loading, router])\n\n  if (loading) {\n    return (\n      <Screen className=\"flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin text-4xl mb-4\">â›³</div>\n          <p className=\"text-gray-500\">Loading...</p>\n        </div>\n      </Screen>\n    )\n  }\n\n  if (!user) {\n    return null\n  }\n\n  return <>{children}</>\n}\n","import {\n  sendSignInLinkToEmail,\n  isSignInWithEmailLink,\n  signInWithEmailLink,\n  signOut,\n  signInWithPopup,\n  GoogleAuthProvider,\n  UserCredential,\n} from 'firebase/auth'\nimport { auth } from '@/lib/firebase'\n\n// ============ MAGIC LINK AUTH ============\n\n/**\n * Send magic link to user's email for passwordless sign-in\n * @param email User's email address\n */\nexport async function sendMagicLink(email: string): Promise<void> {\n  const actionCodeSettings = {\n    url: `${process.env.NEXT_PUBLIC_APP_URL}/auth/callback`,\n    handleCodeInApp: true,\n  }\n\n  try {\n    await sendSignInLinkToEmail(auth, email, actionCodeSettings)\n    // Store email in localStorage so user can confirm it after clicking link\n    localStorage.setItem('emailForSignIn', email)\n  } catch (error) {\n    console.error('Error sending magic link:', error)\n    throw error\n  }\n}\n\n/**\n * Complete sign-in with magic link from email\n * @returns UserCredential if successful\n */\nexport async function completeMagicLink(): Promise<UserCredential | null> {\n  if (!isSignInWithEmailLink(auth, window.location.href)) {\n    return null\n  }\n\n  const email = localStorage.getItem('emailForSignIn')\n  if (!email) {\n    throw new Error('No email found for magic link sign-in')\n  }\n\n  try {\n    const result = await signInWithEmailLink(auth, email, window.location.href)\n    localStorage.removeItem('emailForSignIn')\n    return result\n  } catch (error) {\n    console.error('Error completing magic link sign-in:', error)\n    throw error\n  }\n}\n\n// ============ GOOGLE OAUTH ============\n\n/**\n * Sign in with Google OAuth\n * @returns UserCredential if successful\n */\nexport async function signInWithGoogle(): Promise<UserCredential> {\n  const provider = new GoogleAuthProvider()\n\n  try {\n    return await signInWithPopup(auth, provider)\n  } catch (error) {\n    console.error('Error signing in with Google:', error)\n    throw error\n  }\n}\n\n// ============ SIGN OUT ============\n\n/**\n * Sign out current user\n */\nexport async function signOutUser(): Promise<void> {\n  try {\n    await signOut(auth)\n  } catch (error) {\n    console.error('Error signing out:', error)\n    throw error\n  }\n}\n\n","'use client'\n\nimport { useState } from 'react'\nimport { useRouter } from 'next/navigation'\nimport { Screen, Header } from '@/components/layout'\nimport { Card, Button, Input } from '@/components/ui'\nimport { ProtectedRoute } from '@/components/auth'\nimport { useAuth } from '@/hooks/useAuth'\nimport { updateUser } from '@/lib/firestore/users'\nimport { signOutUser } from '@/lib/auth/config'\n\nexport default function SettingsPage() {\n  const router = useRouter()\n  const { user, firebaseUser } = useAuth()\n  const [displayName, setDisplayName] = useState(user?.displayName || '')\n  const [saving, setSaving] = useState(false)\n  const [signingOut, setSigningOut] = useState(false)\n  const [message, setMessage] = useState<{ type: 'success' | 'error'; text: string } | null>(null)\n\n  const handleSave = async () => {\n    if (!user || !displayName.trim()) {\n      setMessage({ type: 'error', text: 'Display name cannot be empty' })\n      return\n    }\n\n    setSaving(true)\n    setMessage(null)\n\n    try {\n      await updateUser(user.id, { displayName })\n      setMessage({ type: 'success', text: 'Profile updated successfully' })\n    } catch (err) {\n      console.error('Error updating profile:', err)\n      setMessage({\n        type: 'error',\n        text: err instanceof Error ? err.message : 'Failed to update profile',\n      })\n    } finally {\n      setSaving(false)\n    }\n  }\n\n  const handleSignOut = async () => {\n    setSigningOut(true)\n    try {\n      await signOutUser()\n      router.push('/login')\n    } catch (err) {\n      console.error('Error signing out:', err)\n      setMessage({\n        type: 'error',\n        text: err instanceof Error ? err.message : 'Failed to sign out',\n      })\n      setSigningOut(false)\n    }\n  }\n\n  return (\n    <ProtectedRoute>\n      <Screen padBottom>\n        <Header title=\"Settings\" subtitle=\"Your Profile\" />\n\n        <div className=\"p-4 pb-24 space-y-6\">\n          {/* Message */}\n          {message && (\n            <Card\n              variant=\"outlined\"\n              className={`p-4 ${message.type === 'success' ? 'bg-green-50 border-green-200' : 'bg-red-50 border-red-200'}`}\n            >\n              <p className={message.type === 'success' ? 'text-green-700 text-sm' : 'text-red-700 text-sm'}>\n                {message.text}\n              </p>\n            </Card>\n          )}\n\n          {/* Profile Card */}\n          <Card variant=\"elevated\" className=\"p-6\">\n            <h2 className=\"text-lg font-semibold text-gray-900 mb-4\">Profile Information</h2>\n\n            {user && (\n              <div className=\"space-y-4\">\n                {/* Email (read-only) */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">Email</label>\n                  <div className=\"px-4 py-3 bg-gray-50 rounded-lg text-gray-600 text-sm\">\n                    {user.email || firebaseUser?.email || 'No email'}\n                  </div>\n                </div>\n\n                {/* Display Name (editable) */}\n                <div>\n                  <Input\n                    label=\"Display Name\"\n                    value={displayName}\n                    onChange={(e) => setDisplayName(e.target.value)}\n                    placeholder=\"Enter your name\"\n                    disabled={saving}\n                  />\n                </div>\n\n                {/* Golf Profile (future enhancement) */}\n                <div className=\"pt-4 border-t border-gray-200\">\n                  <p className=\"text-sm font-medium text-gray-700 mb-3\">Golf Profile (Coming Soon)</p>\n                  <div className=\"space-y-3\">\n                    <div className=\"px-4 py-3 bg-gray-50 rounded-lg\">\n                      <p className=\"text-sm text-gray-600\">Handicap Index</p>\n                      <p className=\"text-lg font-semibold text-gray-900 mt-1\">\n                        {user.handicapIndex || 'Not set'}\n                      </p>\n                    </div>\n                    <div className=\"px-4 py-3 bg-gray-50 rounded-lg\">\n                      <p className=\"text-sm text-gray-600\">Home Club</p>\n                      <p className=\"text-lg font-semibold text-gray-900 mt-1\">{user.homeClub || 'Not set'}</p>\n                    </div>\n                  </div>\n                </div>\n\n                {/* Save Button */}\n                <div className=\"pt-4\">\n                  <Button onClick={handleSave} disabled={saving || displayName === user.displayName} fullWidth>\n                    {saving ? 'Saving...' : 'Save Changes'}\n                  </Button>\n                </div>\n              </div>\n            )}\n          </Card>\n\n          {/* Account Section */}\n          <Card variant=\"elevated\" className=\"p-6\">\n            <h2 className=\"text-lg font-semibold text-gray-900 mb-4\">Account</h2>\n\n            <div className=\"space-y-3\">\n              {/* Account Info */}\n              <div className=\"px-4 py-3 bg-gray-50 rounded-lg\">\n                <p className=\"text-sm text-gray-600\">Member Since</p>\n                <p className=\"text-base font-semibold text-gray-900 mt-1\">\n                  {user?.createdAt ? new Date(user.createdAt).toLocaleDateString() : 'Unknown'}\n                </p>\n              </div>\n\n              {/* Sign Out Button */}\n              <Button\n                variant=\"secondary\"\n                onClick={handleSignOut}\n                disabled={signingOut}\n                fullWidth\n                className=\"text-red-600 border-red-200 hover:bg-red-50\"\n              >\n                {signingOut ? 'Signing Out...' : 'Sign Out'}\n              </Button>\n            </div>\n          </Card>\n\n          {/* Info Card */}\n          <Card variant=\"outlined\" className=\"bg-blue-50 border-blue-200 p-4\">\n            <p className=\"text-blue-900 text-sm\">\n              <span className=\"font-medium\">ðŸ’¡ Tips:</span>\n              <br />\n              Update your display name so other players know who you are. Golf profile features coming soon.\n            </p>\n          </Card>\n        </div>\n      </Screen>\n    </ProtectedRoute>\n  )\n}\n"],"names":[],"mappings":"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"}